(this["webpackJsonpreact-js-multiple-files-upload"]=this["webpackJsonpreact-js-multiple-files-upload"]||[]).push([[0],{19:function(e,t,a){e.exports=a(44)},24:function(e,t,a){},25:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(15),r=a.n(l),o=(a(24),a(25),a(26),a(5)),c=a(3),i=a(4),u=a(2),m=a(17),p=a(18),d=a(16),f=a.n(d).a.create({baseURL:"/",headers:{"Content-type":"application/json"}}),h=new(function(){function e(){Object(c.a)(this,e)}return Object(i.a)(e,[{key:"upload",value:function(e,t){var a=new FormData;return a.append("file",e),f.post("/api/upload",a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:t})}},{key:"getFiles",value:function(){return f.get("/api/files")}}]),e}()),g=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).selectFiles=n.selectFiles.bind(Object(u.a)(n)),n.upload=n.upload.bind(Object(u.a)(n)),n.uploadFiles=n.uploadFiles.bind(Object(u.a)(n)),n.state={selectedFiles:void 0,progressInfos:[],message:[],fileInfos:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.getFiles().then((function(t){e.setState({fileInfos:t.data})}))}},{key:"selectFiles",value:function(e){this.setState({progressInfos:[],selectedFiles:e.target.files})}},{key:"upload",value:function(e,t){var a=this,n=Object(o.a)(this.state.progressInfos);h.upload(t,(function(t){n[e].percentage=Math.round(100*t.loaded/t.total),a.setState({_progressInfos:n})})).then((function(e){return a.setState((function(e){return{message:[].concat(Object(o.a)(e.message),["Uploaded the file successfully: "+t.name])}})),h.getFiles()})).then((function(e){a.setState({fileInfos:e.data})})).catch((function(){n[e].percentage=0,a.setState((function(e){var a=[].concat(Object(o.a)(e.message),["Could not upload the file: "+t.name]);return{progressInfos:n,message:a}}))}))}},{key:"uploadFiles",value:function(){for(var e=this,t=this.state.selectedFiles,a=[],n=0;n<t.length;n++)a.push({percentage:0,fileName:t[n].name});this.setState({progressInfos:a,message:[]},(function(){for(var a=0;a<t.length;a++)e.upload(a,t[a])}))}},{key:"render",value:function(){var e=this.state,t=e.selectedFiles,a=e.progressInfos,n=e.message,l=e.fileInfos;return s.a.createElement("div",null,a&&a.map((function(e,t){return s.a.createElement("div",{className:"mb-2",key:t},s.a.createElement("span",null,e.fileName),s.a.createElement("div",{className:"progress"},s.a.createElement("div",{className:"progress-bar progress-bar-info",role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100",style:{width:e.percentage+"%"}},e.percentage,"%")))})),s.a.createElement("div",{className:"row my-3"},s.a.createElement("div",{className:"col-8"},s.a.createElement("label",{className:"btn btn-default p-0"},s.a.createElement("input",{type:"file",multiple:!0,onChange:this.selectFiles}))),s.a.createElement("div",{className:"col-4"},s.a.createElement("button",{className:"btn btn-success btn-sm",disabled:!t,onClick:this.uploadFiles},"Upload"))),n.length>0&&s.a.createElement("div",{className:"alert alert-secondary",role:"alert"},s.a.createElement("ul",null,n.map((function(e,t){return s.a.createElement("li",{key:t},e)})))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header"},"List of Files"),s.a.createElement("ul",{className:"list-group list-group-flush"},l&&l.map((function(e,t){return s.a.createElement("li",{className:"list-group-item",key:t},s.a.createElement("a",{href:"/api/files/"+e.name},e.name))})))))}}]),a}(n.Component);var v=function(){return s.a.createElement("div",{className:"container",style:{width:"600px"}},s.a.createElement("div",{className:"my-2"},s.a.createElement("h3",null,"bezkoder.com"),s.a.createElement("h4",null,"React upload multiple Files")),s.a.createElement(g,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.a4ffc7a2.chunk.js.map